// بيانات متعددة اللغات
const translations = {
    he: {
        // شريط التنقل
		navText: "אדריכלית מוסמכת",
		navlogo: "סיהאם עבדדלה",
        navHome: "ראשי",
        navAbout: "אודותי",
        navPortfolio: "פרויקטים",
        navServices: "שירותים",
        navContact: "צור קשר",
        
        // القسم الرئيسي
        heroTitle: "עיצובים אדריכליים חדשניים שמעוררים השראה לחיים",
        heroSubtitle: "אני סיהאם עבדאללה, אדריכלית המתמחה בעיצוב חללים מגורים ועסקיים המשלבים יופי ופונקציונליות.",
        viewProjectsBtn: "צפייה בפרויקטים",
        
        // قسم عنّي
        aboutTitle: "אודותי",
        aboutSubtitle: "ניסיון של למעלה מ-15 שנים בתחום העיצוב האדריכלי",
        aboutText2: "אני מאמינה שעיצוב אדריכלי טוב חייב לשלב בין אסתטיקה, פונקציונליות וקיימות. אני שואפת תמיד ליצור חללים שמשפרים את איכות חייהם של הדיירים ומשקפים את אישיותם.",
        quality1: "איכות גבוהה",
        quality2: "יצירתיות",
        quality3: "מחויבות לזמנים",
        
        // قسم المعرض
        portfolioTitle: "גלריית פרויקטים",
        portfolioSubtitle: "עיין בכמה מפרויקטי האדריכליים הבולטים שלי",
        addImageText: "הוסף תמונה",
        imageCount: "תמונות בגלריה: ",
        galleryInstruction: "לחץ על כל תמונה להגדלה. ניתן להוסיף תמונות נוספות באמצעות כפתור 'הוסף תמונה'.",
        
        // قسم الخدمات
        servicesTitle: "שירותים ניתנים",
        servicesSubtitle: "שירותים מקיפים העונים על כל צרכיך האדריכליים",
        Title1: "עיצוב מגורים",
        service1Desc: "עיצוב בתים ויחידות דיור העונים על צרכי המשפחה ומשקפים את אישיותה.",
        Title2: "עיצוב מסחרי",
        service2Desc: "עיצוב משרדים, חנויות ומסעדות המושכות לקוחות ועונות על צרכי העסק.",
        Title3: "תכנון פנים",
        service3Desc: "תכנון ועיצוב חללים פנימיים להפקת המרב מכל מטר.",
		title4:"אחר",
		service1Title:"עיצוב מגורים",
		service2Title:"עיצוב מסחרי",
		service3Title:"תכנון פנים",
		
        
        // قسم التواصل
        contactTitle: "צור קשר",
        contactSubtitle: "שלח לי הודעה לדון בפרויקט הבא שלך",
        contactInfoTitle: "פרטי התקשרות",
        socialTitle: "רשתות חברתיות",
        namePlaceholder: "שם מלא",
        emailPlaceholder: "דוא\"ל",
        phonePlaceholder: "מספר טלפון",
        servicePlaceholder: "סוג השירות הנדרש",
        messagePlaceholder: "פרטי הפרויקט",
        submitBtn: "שלח הודעה",
        
        // الفوتر
		ftHome: "ראשי",
        ftAbout: "אודותי",
        ftPortfolio: "פרויקטים",
        ftServices: "שירותים",
        ftContact: "צור קשר",
		ftlogo: "סיהאם עבדדלה",
        footerText: "אדריכלית מוסמכת",
        copyrightText: "© 2023 כל הזכויות שמורות. האתר נוצר על ידי נורה כהן"
    },
    ar: {
        // شريط التنقل
		navText: "مهندسة معمارية معتمدة",
		navlogo: "سهام عبدلله",
        navHome: "الرئيسية",
        navAbout: "عنّي",
        navPortfolio: "المشاريع",
        navServices: "الخدمات",
        navContact: "اتصل بي",
        
        // القسم الرئيسي
        heroTitle: "تصميمات معمارية مبتكرة تلهم الحياة",
        heroSubtitle: "أنا سهام عبدلله، مهندسة معمارية متخصصة في تصميم المساحات السكنية والتجارية التي تجمع بين الجمال والوظيفية",
        viewProjectsBtn: "عرض المشاريع",
        
        // قسم عنّي
        aboutTitle: "عنّي",
        aboutSubtitle: "خبرة تمتد لأكثر من 15 عاماً في مجال التصميم المعماري",
        aboutText2: "أؤمن بأن التصميم المعماري الجيد يجب أن يدمج بين الجماليات والوظيفية والاستدامة. أسعى دائمًا لخلق مساحات تحسن من جودة حياة السكان وتعكس شخصيتهم.",
        quality1: "جودة عالية",
        quality2: "إبداع",
        quality3: "التزام بالمواعيد",
        
        // قسم المعرض
        portfolioTitle: "معرض المشاريع",
        portfolioSubtitle: "تصفح بعض مشاريعي المعمارية المميزة",
        addImageText: "إضافة صورة",
        imageCount: "صور في المعرض: ",
        galleryInstruction: "انقر على أي صورة لتكبيرها. يمكنك إضافة المزيد من الصور باستخدام زر 'إضافة صورة'.",
        
        // قسم الخدمات
        servicesTitle: "الخدمات المقدمة",
        servicesSubtitle: "خدمات شاملة لتلبية جميع احتياجاتك المعمارية",
        Title1: "تصميم سكني",
        service1Desc: "تصميم منازل ووحدات سكنية تلبي احتياجات العائلة وتعكس شخصيتها.",
        Title2: "تصميم تجاري",
        service2Desc: "تصميم المكاتب والمتاجر والمطاعم التي تجذب العملاء وتلبي احتياجات العمل.",
        Title3: "التخطيط الداخلي",
        service3Desc: "تخطيط وتصميم المساحات الداخلية لتحقيق أقصى استفادة من كل متر.",
		title4:"اخرى",
		service1Title:"تصميم سكني",
		service2Title:"تصميم تجاري",
		service3Title:"التخطيط الداخلي",
        
        // قسم التواصل
        contactTitle: "اتصل بي",
        contactSubtitle: "أرسل لي رسالة لمناقشة مشروعك القادم",
        contactInfoTitle: "معلومات التواصل",
        socialTitle: "مواقع التواصل الاجتماعي",
        namePlaceholder: "الاسم الكامل",
        emailPlaceholder: "البريد الإلكتروني",
        phonePlaceholder: "رقم الهاتف",
        servicePlaceholder: "نوع الخدمة المطلوبة",
        messagePlaceholder: "تفاصيل المشروع",
        submitBtn: "إرسال الرسالة",
        
        // الفوتر
        ftHome: "الرئيسية",
        ftAbout: "عنّي",
        ftPortfolio: "المشاريع",
        ftServices: "الخدمات",
        ftContact: "اتصل بي",
		ftlogo: "سهام عبدلله",
        footerText: "مهندسة معمارية معتمدة",
        copyrightText: "© 2023 جميع الحقوق محفوظة. تم إنشاء الموقع بواسطة نورا كوهين"
    },
    en: {
        // شريط التنقل
		navText: "Certified Architect",
		navlogo: "Seham Abdalla",
        navHome: "Home",
        navAbout: "About Me",
        navPortfolio: "Projects",
        navServices: "Services",
        navContact: "Contact",
        
        // القسم الرئيسي
        heroTitle: "Innovative Architectural Designs that Inspire Life",
        heroSubtitle: "I'm Seham Abdalla, an architect specializing in designing residential and commercial spaces that combine beauty and functionality.",
        viewProjectsBtn: "View Projects",
        
        // قسم عنّي
        aboutTitle: "About Me",
        aboutSubtitle: "Over 15 years of experience in architectural design",
        aboutText2: "I believe that good architectural design must integrate aesthetics, functionality, and sustainability. I always strive to create spaces that improve residents' quality of life and reflect their personality.",
        quality1: "High Quality",
        quality2: "Creativity",
        quality3: "Timely Commitment",
        
        // قسم المعرض
        portfolioTitle: "Projects Gallery",
        portfolioSubtitle: "Browse some of my notable architectural projects",
        addImageText: "Add Image",
        imageCount: "images in gallery: ",
        galleryInstruction: "Click on any image to enlarge it. You can add more images using the 'Add Image' button.",
        
        // قسم الخدمات
        servicesTitle: "Services Offered",
        servicesSubtitle: "Comprehensive services to meet all your architectural needs",
        Title1: "Residential Design",
        service1Desc: "Designing homes and residential units that meet family needs and reflect their personality.",
        Title2: "Commercial Design",
        service2Desc: "Designing offices, stores, and restaurants that attract customers and meet business needs.",
        Title3: "Interior Planning",
        service3Desc: "Planning and designing interior spaces to maximize every meter.",
		title4:"other",
		service1Title:"Residential Design",
		service2Title:"Commercial Design",
		service3Title:"Interior Planning",
        
        // قسم التواصل
        contactTitle: "Contact Me",
        contactSubtitle: "Send me a message to discuss your next project",
        contactInfoTitle: "Contact Information",
        socialTitle: "Social Media",
        namePlaceholder: "Full Name",
        emailPlaceholder: "Email Address",
        phonePlaceholder: "Phone Number",
        servicePlaceholder: "Type of Service Required",
        messagePlaceholder: "Project Details",
        submitBtn: "Send Message",
        
        // الفوتر
		ftHome: "Home",
        ftAbout: "About Me",
        ftPortfolio: "Projects",
        ftServices: "Services",
        ftContact: "Contact",
		ftlogo: "Seham Abdalla",
        footerText: "Certified Architect",
        copyrightText: "© 2023 All Rights Reserved. Website created by Nora Cohen"
    }
};

// الحالة الافتراضية - اللغة العبرية
let currentLang = 'he';

// مصفوفة صور المعرض
const galleryImages = [
    { id: 1, url: "model1.webp", title: { he: "וילה מודרנית", ar: "فيلا حديثة", en: "Modern Villa" } },
    { id: 2, url: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80", title: { he: "דירת פנטהאוז", ar: "بنتهوس", en: "Penthouse Apartment" } },
    { id: 3, url: "https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80", title: { he: "משרדים עכשוויים", ar: "مكاتب عصرية", en: "Contemporary Offices" } },
    { id: 4, url: "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80", title: { he: "בית עם נוף", ar: "منزل بإطلالة", en: "House with a View" } },
    { id: 5, url: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1175&q=80", title: { he: "עיצוב פנים מינימליסטי", ar: "تصميم داخلي بسيط", en: "Minimalist Interior Design" } },
    { id: 6, url: "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80", title: { he: "בית כפרי מודרני", ar: "منزل ريفي حديث", en: "Modern Country House" } }
];

let imageCounter = galleryImages.length;

// تهيئة الموقع عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', function() {
    // تهيئة المعرض
    initializeGallery();
    
    // تهيئة تبديل اللغة
    initializeLanguageSwitcher();
    
    // تهيئة القائمة المتنقلة للهواتف
    initializeMobileMenu();
    
    // تهيئة نموذج الاتصال
    initializeContactForm();
    
    // تهيئة نافذة العرض الكامل للصورة
    initializeImageModal();
    
    // تعيين اللغة الافتراضية (العبرية)
    changeLanguage('he');
});

// تهيئة معرض الصور
function initializeGallery() {
    const galleryContainer = document.getElementById('imageGallery');
    galleryContainer.innerHTML = '';
    
    galleryImages.forEach(image => {
        const galleryItem = document.createElement('div');
        galleryItem.className = 'gallery-item';
        galleryItem.dataset.id = image.id;
        
        const imgElement = document.createElement('img');
        imgElement.src = image.url;
        imgElement.alt = image.title[currentLang];
        
        galleryItem.appendChild(imgElement);
        galleryContainer.appendChild(galleryItem);
        
        // إضافة حدث النقر للصورة
        galleryItem.addEventListener('click', function() {
            openImageModal(image.id);
        });
    });
    
    updateImageCount();
}

// تحديث عدد الصور في المعرض
function updateImageCount() {
    const imageCountElement = document.getElementById('imageCount');
    imageCountElement.textContent = translations[currentLang].imageCount + imageCounter;
}

// تهيئة تبديل اللغة
function initializeLanguageSwitcher() {
    document.getElementById('hebrewBtn').addEventListener('click', function() {
        changeLanguage('he');
        setActiveLanguageButton('hebrewBtn');
    });
    
    document.getElementById('arabicBtn').addEventListener('click', function() {
        changeLanguage('ar');
        setActiveLanguageButton('arabicBtn');
    });
    
    document.getElementById('englishBtn').addEventListener('click', function() {
        changeLanguage('en');
        setActiveLanguageButton('englishBtn');
    });
}

// تغيير اللغة
function changeLanguage(lang) {
    currentLang = lang;
    
    // تغيير اتجاه النص بناءً على اللغة
    document.documentElement.dir = lang === 'ar' ? 'rtl' : (lang === 'he' ? 'rtl' : 'ltr');
    document.documentElement.lang = lang;
    
    // تحديث جميع العناصر النصية
    Object.keys(translations[lang]).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            element.textContent = translations[lang][key];
        }
    });
    
    // تحديث عناصر النموذج
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const phoneInput = document.getElementById('phone');
    const serviceSelect = document.getElementById('service');
    const messageTextarea = document.getElementById('message');
    
    if (nameInput) nameInput.placeholder = translations[lang].namePlaceholder;
    if (emailInput) emailInput.placeholder = translations[lang].emailPlaceholder;
    if (phoneInput) phoneInput.placeholder = translations[lang].phonePlaceholder;
    if (serviceSelect) {
        const placeholderOption = serviceSelect.options[0];
        placeholderOption.textContent = translations[lang].servicePlaceholder;
    }
    if (messageTextarea) messageTextarea.placeholder = translations[lang].messagePlaceholder;
    
    // تحديث عناوين الصور في المعرض
    updateGalleryTitles();
    
    // تحديث عدد الصور
    updateImageCount();
}

// تعيين الزر النشط للغة
function setActiveLanguageButton(activeButtonId) {
    // إزالة النشاط من جميع الأزرار
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active-lang');
    });
    
    // إضافة النشاط للزر المحدد
    document.getElementById(activeButtonId).classList.add('active-lang');
}

// تحديث عناوين الصور في المعرض
function updateGalleryTitles() {
    document.querySelectorAll('.gallery-item').forEach(item => {
        const imageId = parseInt(item.dataset.id);
        const image = galleryImages.find(img => img.id === imageId);
        if (image) {
            const imgElement = item.querySelector('img');
            imgElement.alt = image.title[currentLang];
        }
    });
}

// تهيئة القائمة المتنقلة للهواتف
function initializeMobileMenu() {
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    
    if (menuToggle && navLinks) {
        menuToggle.addEventListener('click', function() {
            navLinks.classList.toggle('active');
        });
        
        // إغلاق القائمة عند النقر على رابط
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', function() {
                navLinks.classList.remove('active');
            });
        });
    }
}

// تهيئة نافذة العرض الكامل للصورة
function initializeImageModal() {
    const modal = document.getElementById('imageModal');
    const closeModal = document.getElementById('closeModal');
    
    if (closeModal) {
        closeModal.addEventListener('click', function() {
            modal.style.display = "none";
        });
    }
    
    // إغلاق النافذة عند النقر خارج الصورة
    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            modal.style.display = "none";
        }
    });
}

// فتح نافذة العرض الكامل للصورة
function openImageModal(imageId) {
    const modal = document.getElementById('imageModal');
    const modalImage = document.getElementById('modalImage');
    const modalCaption = document.getElementById('modalCaption');
    
    const image = galleryImages.find(img => img.id === imageId);
    if (image) {
        modalImage.src = image.url;
        modalCaption.textContent = image.title[currentLang];
        modal.style.display = "block";
    }
}

// تهيئة نموذج الاتصال
function initializeContactForm() {
    const contactForm = document.getElementById('contactForm');
    
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // في الواقع، هنا سيتم إرسال النموذج إلى الخادم
            // لكن لأغراض العرض، سنقوم بمحاكاة الإرسال الناجح
            const formResponse = document.getElementById('formResponse');
            formResponse.textContent = currentLang === 'he' ? "תודה! הודעתך נשלחה בהצלחה. אחזור אליך בהקדם." :
                                      currentLang === 'ar' ? "شكرًا! تم إرسال رسالتك بنجاح. سأعود إليك قريبًا." :
                                      "Thank you! Your message has been sent successfully. I will get back to you soon.";
            formResponse.style.color = "#4CAF50";
            formResponse.style.backgroundColor = "#E8F5E9";
            
            // إعادة تعيين النموذج
            contactForm.reset();
            
            // إخفاء رسالة النجاح بعد 5 ثوانٍ
            setTimeout(() => {
                formResponse.textContent = "";
                formResponse.style.backgroundColor = "transparent";
            }, 5000);
        });
    }
    
    // تهيئة زر إضافة صورة للمعرض
    const addImageBtn = document.getElementById('addImageBtn');
    if (addImageBtn) {
        addImageBtn.addEventListener('click', function() {
            addNewImageToGallery();
        });
    }
}

// إضافة صورة جديدة للمعرض
	function addNewImageToGallery() {
    imageCounter++;
    
    // صورة عشوائية من Unsplash للعمارة
    const randomId = Math.floor(Math.random() * 1000);
   // const newImageUrl = `https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1153&q=80&${randomId}`;
    
    const newImage = {
        id: imageCounter,
        url: newImageUrl,
        title: {
            he: `פרויקט חדש ${imageCounter - 6}`,
            ar: `مشروع جديد ${imageCounter - 6}`,
            en: `New Project ${imageCounter - 6}`
        }
    };
    
    galleryImages.push(newImage);
    
    // إضافة الصورة الجديدة للمعرض
    const galleryContainer = document.getElementById('imageGallery');
    const galleryItem = document.createElement('div');
    galleryItem.className = 'gallery-item';
    galleryItem.dataset.id = newImage.id;
    
    const imgElement = document.createElement('img');
    imgElement.src = newImage.url;
    imgElement.alt = newImage.title[currentLang];
    
    galleryItem.appendChild(imgElement);
    galleryContainer.appendChild(galleryItem);
    
    // إضافة حدث النقر للصورة الجديدة
 /*   galleryItem.addEventListener('click', function() {
        openImageModal(newImage.id); 
    });*/
    
    // تحديث عدد الصور
    updateImageCount();
    
    // عرض رسالة نجاح
    const formResponse = document.getElementById('formResponse');
    formResponse.textContent = currentLang === 'he' ? "תודה! התמונה נוספה בהצלחה לגלריה." :
                              currentLang === 'ar' ? "شكرًا! تمت إضافة الصورة إلى المعرض بنجاح." :
                              "Thank you! The image has been successfully added to the gallery.";
    formResponse.style.color = "#4CAF50";
    formResponse.style.backgroundColor = "#E8F5E9";
    
    // إخفاء رسالة النجاح بعد 3 ثوانٍ
    setTimeout(() => {
        formResponse.textContent = "";
        formResponse.style.backgroundColor = "transparent";
    }, 3000);
}

// إضافة تأثيرات تفاعلية إضافية
document.addEventListener('DOMContentLoaded', function() {
    // إضافة تأثير عند التمرير للروابط
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // إضافة تأثير الظهور عند التمرير
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
            }
        });
    }, observerOptions);
    
    // مراقبة الأقسام لعرض تأثيرات الظهور
    document.querySelectorAll('section').forEach(section => {
        observer.observe(section);
    });
    
    // إضافة تأثير الاهتزاز لأزرار وسائل التواصل الاجتماعي
    document.querySelectorAll('.social-icons a').forEach(icon => {
        icon.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px) scale(1.1)';
        });
        
        icon.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
});